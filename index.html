
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BEAUTRÍ PARRUCCHIERI - Listino Digitale</title>
    <!-- Tailwind CSS per lo styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome per le icone -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
      body {
        font-family: 'Inter', sans-serif;
        -webkit-tap-highlight-color: transparent;
        background-color: #F3F0EA;
        margin: 0;
        padding: 0;
      }
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #e2e8f0;
        border-radius: 10px;
      }
      .animate-fade-in { animation: fadeIn 0.7s ease-out; }
      .animate-zoom-in { animation: zoomIn 0.5s ease-out; }
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      @keyframes zoomIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/",
    "vite": "https://esm.sh/vite@^7.3.0",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="module">
      import React from 'https://esm.sh/react@19';
      import { createRoot } from 'https://esm.sh/react-dom@19/client';
      import htm from 'https://esm.sh/htm';

      const { useState, useEffect, useMemo } = React;
      const html = htm.bind(React.createElement);

      // --- COSTANTI ---
      const Tab = { Home: 'home', Notes: 'notes' };
      
      const SECTIONS = [
        { id: 'visione', label: 'VISIONE', icon: 'fa-eye' },
        { id: 'migliori-proposte', label: 'MIGLIORI PROPOSTE', icon: 'fa-star' },
        { id: 'colorazioni', label: 'COLORAZIONI', icon: 'fa-palette' },
        { id: 'trattamenti-tricologici', label: 'TRATTAMENTI TRICOLOGICI', icon: 'fa-microscope' },
        { id: 'spa', label: 'SPA', icon: 'fa-water' },
        { id: 'forma', label: 'FORMA', icon: 'fa-wand-magic-sparkles' },
        { id: 'schiariture', label: 'SCHIARITURE', icon: 'fa-sun' },
        { id: 'stilistico', label: 'STILISTICO', icon: 'fa-scissors' },
        { id: 'percorsi-main', label: 'PERCORSI', icon: 'fa-route' },
        { id: 'percorsi-mantenimento', label: 'PERCORSI DI MANTENIMENTO', icon: 'fa-shield-heart' },
      ];

      const BEST_PROPOSALS_DONNA = [
        {
          id: 'bp1',
          name: 'TRANSFORMER',
          price: 'da 17€ a 27€',
          description: 'Trasformiamo il tuo colore in una vera e propria ricostruzione dello stelo. Abbiamo la soluzione per te! Un concentrato naturale di aminoacidi che mentre colorano, lucidano e ravvivano i riflessi, proteggono profondamente e riparano la struttura rendendoli sani e splendenti.',
          icon: 'fa-arrows-rotate'
        },
        {
          id: 'bp2',
          name: 'BIONDO PROTETTO',
          price: 'da €19 a €27',
          description: 'Trasformiamo la schiaritura in un trattamento ristrutturante per capelli dall’effetto “wow”. Prepariamo la struttura cheratinica con i “mattoni” essenziali, potenziati dall’ossigenoterapia. Aminoacidi e polipeptidi cheratinici restituiscono lucentezza e elasticità.',
          icon: 'fa-shield-halved'
        },
        {
          id: 'bp3',
          name: 'CUTE NO STRESS',
          price: 'da €21 a €29',
          description: 'Ridare sollievo e beneficio a cuoi capelluti rigidi o stressati da ritmi frenetici o sudorazioni. Toglie infiammazioni, distende la cute e cala la tensione sul cuoio capelluto. Perfetto per cuti con iperidrosi.',
          icon: 'fa-brain'
        },
        {
          id: 'bp4',
          name: 'PIU’ VITA AL TUO RIFLESSO',
          price: 'da 17€ a 23€',
          description: 'Infiniti riflessi con pigmenti naturali organici per un effetto temporaneo e massima libertà. Azione dell’ossigenoterapia per idratare e riflessare con collagene marino e proteine dell’avena senza solfati.',
          icon: 'fa-sparkles'
        },
        {
          id: 'bp5',
          name: 'NEUTRALIZZANTE',
          price: 'da 17€ a 27€',
          description: 'Tramite aerografo eroghiamo ossigeno puro e Mix di oli essenziali (Timo, Arancio Amaro, Hennè). Riportiamo il pH in equilibrio eliminando ogni residuo di colore e neutralizzando pruriti post-colorazione.',
          icon: 'fa-wind'
        },
        {
          id: 'bp6',
          name: 'OSSIGENOTERAPIA IDROMINERALE',
          price: 'da 17€ a 27€',
          description: 'Per capelli deboli e senza tono che tendono ad afflosciarsi. Restituiamo forza, vigore ed elasticità alla struttura per evitare rotture dello stelo e migliorare la durata della colorazione.',
          icon: 'fa-droplet'
        }
      ];

      const BEST_PROPOSALS_UOMO = [
        {
          id: 'bp_u1',
          name: 'CUTE NO STRESS',
          price: 'da €21 a €29',
          description: 'Tensioni giornaliere, ritmi frenetici, ansia, stile di vita sbagliati, percorsi di chemioterapia, eccessive sudorazioni, apportano un vero stress al nostro cuoio capelluto, che tenderà ad essere sempre più rigido meno irrorato sino ad arrivare a quella odiata sensazione di dolore. Di conseguenza il tutto andrà a riflettere sul follicolo pilifero e sui capelli futuri. Ricordatevi che solo da un cuoio capelluto sano nascono capelli sani. Ecco la soluzione mirata per togliere tensioni in cute, ridare sollievo e beneficio. La tua cute ti ringraziera! TOGLIE INFIAMMAZIONI E DISTENDE LA CUTE, CALA LA TENSIONE SUL CUOIO CAPELLUTO, PER CUTI CON IPERIDROSI.',
          icon: 'fa-brain'
        }
      ];

      const LASER_TABLE_DATA = [
        { name: 'ALOPECIA ANDROGENETICA', sessions: '12', duration: "40'", prices: { uomo: '80', donna: '100', donnaPlus: '110' } },
        { name: 'CADUTA STAGIONALE', sessions: '8', duration: "40'", prices: { uomo: '80', donna: '100', donnaPlus: '110' } },
        { name: 'PSORIASI', sessions: '4', duration: "40'", prices: { uomo: '80', donna: '100', donnaPlus: '110' } },
        { name: 'FORFORA', sessions: '4', duration: "40'", prices: { uomo: '80', donna: '100', donnaPlus: '110' } },
        { name: 'DERMATITE SEBORROICA', sessions: '6', duration: "60'", prices: { uomo: '120', donna: '140', donnaPlus: '150' } },
        { name: 'ECZEMA/ERITEMA', sessions: '4', duration: "40'", prices: { uomo: '80', donna: '100', donnaPlus: '110' } },
        { name: 'CUTE SEBORROICA', sessions: '4', duration: "40'", prices: { uomo: '80', donna: '100', donnaPlus: '110' } },
      ];

      const MOCK_PATHS = [
        { 
          id: 'p1', 
          name: 'Igenizzare/purificare', 
          description: 'Percorso dedicato per capelli appesantiti, eccesso di sebo, desquamazioni, prurito e tossicità.', 
          sessions: 'da 3 a 5 sedute (1 a settimana)', 
          tools: 'Nebulizzazione, Ultrasuoni, Corrente galvanica', 
          price: 'Lui: 37€ | Lei: 59/63€' 
        },
        { 
          id: 'p2', 
          name: 'Lenire', 
          description: 'Percorso dedicato a tutte quelle cuti che havevano bisogno di essere rigenerate e riportate in equilibrio.', 
          sessions: 'da 3 a 5 sedute (1 a settimana)', 
          tools: 'Nebulizzazione, Ultrasuoni, Corrente galvanica', 
          price: 'Lui: 67€ | Lei: 89/93€' 
        },
        { 
          id: 'p3', 
          name: 'Detossinare', 
          description: 'Percorso dedicato per cuti asfittiche, anaerobiche e intossinate per eliminare scorie metaboliche, apportare ossigeno e nutrimento al bulbo.', 
          sessions: 'da 5 a 7 sedute (1 a settimana)', 
          tools: 'Vacum terapia, Altra frequenza, Cascata', 
          price: 'Lui: 47€ | Lei: 67/71€' 
        },
        { 
          id: 'p4', 
          name: 'Nutrire', 
          description: 'Percorso dedicato ad apportare nutrimento sia ai capelli che alla cute.', 
          sessions: '5 sedute (1 a settimana)', 
          tools: 'Nebulizzazione, Ossigenoterapia, Alta frequenza, Corrente galvanica, Fototerapia', 
          price: 'Lui: 67€ | Lei: 89/93€' 
        },
        { 
          id: 'p5', 
          name: 'Riparare', 
          description: 'Percorso dedicato a ristrutturare e riparare capelli decheratinizzati, doppie punte, carenza di idratazione, nutrimento e danni meccanici.', 
          sessions: '4 sedute (1 a settimana)', 
          tools: 'Laser a fotoringiovanimento, Fototerapia, Cuffia nebulizzata', 
          price: 'Da definire' 
        },
        { 
          id: 'p6', 
          name: 'Laser', 
          description: 'Percorso dedicato per diradamenti psoriasi e dermatiti.', 
          sessions: 'Vedi tabella sotto', 
          tools: 'Laser a fobiostimolazione', 
          price: 'Tabella' 
        },
      ];

      const MOCK_MAINTENANCE_PATHS = [
        { id: 'm1', name: 'MANTENIMENTO 1', description: 'Percorso di mantenimento post-trattamento urto per stabilizzare i risultati ottenuti.', sessions: '4 incontri', tools: 'Microcamera HD, Lozioni specifiche', price: '€ 65' },
        { id: 'm2', name: 'MANTENIMENTO 2', description: 'Prevenzione stagionale e rinforzo periodico della struttura capillare.', sessions: '3 incontri', tools: 'Ossigeno, Maschere nutrienti', price: '€ 70' },
        { id: 'm3', name: 'MANTENIMENTO 3', description: 'Protezione continua del cuoio capelluto sensibile e mantenimento del film idrolipidico.', sessions: '2 incontri', tools: 'Vapozono, Oli lenitivi', price: '€ 60' },
      ];

      // --- COMPONENTI ---

      const Logo = () => html`
        <div className="flex flex-col items-center">
          <div className="w-24 h-24 mb-4">
            <svg viewBox="0 0 100 120" className="w-full h-auto drop-shadow-sm">
              <path d="M50 5 C32 42 18 62 18 82 A32 32 0 0 0 82 82 C82 62 68 42 50 5 Z" fill="none" stroke="#EAB308" strokeWidth="2"/>
              <g transform="translate(50, 82) scale(0.65)">
                <circle cx="0" cy="0" r="7" fill="#EAB308" />
                ${[0, 45, 90, 135, 180, 225, 270, 315].map(angle => html`
                  <path key=${angle} d="M0 -8 Q8 -20 0 -32 Q-8 -20 0 -8" fill="#EAB308" transform="rotate(${angle})" />
                `)}
              </g>
            </svg>
          </div>
          <div className="text-center px-4">
            <h1 className="text-xl font-light tracking-[0.1em] text-slate-800 leading-tight uppercase">
              BEAUTRÍ <span className="font-thin">PARRUCCHIERI</span>
            </h1>
            <p className="text-[8px] text-slate-400 font-medium uppercase tracking-[0.18em] mt-2 whitespace-nowrap">
              Percorsi di salute per i tuoi capelli
            </p>
          </div>
        </div>
      `;

      const Sidebar = ({ activeTab, setActiveTab, onClose }) => {
        const [memo, setMemo] = useState(() => localStorage.getItem('beautri_memo') || '');

        useEffect(() => {
          localStorage.setItem('beautri_memo', memo);
        }, [memo]);

        return html`
          <div className="w-[320px] bg-white h-screen flex flex-col p-8 shadow-2xl relative border-r border-white/20">
            <button onClick=${onClose} className="absolute top-8 right-8 w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center text-slate-400 hover:text-black transition-colors">
              <i className="fa-solid fa-xmark"></i>
            </button>

            <div className="mb-12 mt-4"><${Logo} /></div>

            <nav className="flex flex-col gap-3 mb-12">
              <button
                onClick=${() => { setActiveTab(Tab.Home); onClose(); }}
                className=${`w-full py-4 rounded-2xl flex items-center gap-4 px-6 transition-all ${activeTab === Tab.Home ? 'bg-black text-[#EAB308] shadow-lg' : 'text-slate-400 hover:bg-slate-50 hover:text-black'}`}
              >
                <i className="fa-solid fa-house text-sm"></i>
                <span className="font-bold text-[11px] tracking-[0.2em] uppercase">Home</span>
              </button>
            </nav>

            <div className="flex-1 flex flex-col min-h-0">
              <div className="flex items-center gap-3 mb-4 px-2">
                <i className="fa-solid fa-pen-nib text-[#EAB308] text-xs"></i>
                <span className="text-[11px] font-black text-slate-400 uppercase tracking-widest">NOTE</span>
              </div>
              <div className="flex-1 bg-[#FBFBFB] rounded-3xl p-6 border border-slate-100 flex flex-col shadow-inner overflow-hidden">
                <textarea
                  value=${memo}
                  onChange=${(e) => setMemo(e.target.value)}
                  placeholder="Scrivi qui le tue note..."
                  className="flex-1 bg-transparent resize-none focus:outline-none text-xs font-medium leading-relaxed text-slate-600 placeholder:text-slate-300 custom-scrollbar"
                />
                <div className="mt-4 pt-4 border-t border-slate-50 flex items-center justify-between">
                  <span className="text-[8px] font-bold text-slate-300 uppercase tracking-widest">Salvataggio automatico</span>
                  <div className="w-1.5 h-1.5 rounded-full bg-emerald-400"></div>
                </div>
              </div>
            </div>

            <div className="mt-8 pt-8 border-t border-slate-50 text-center">
              <p className="text-[9px] font-black text-slate-300 uppercase tracking-[0.2em]">Beautrí Parrucchieri</p>
            </div>
          </div>
        `;
      };

      const DigitalMenu = () => {
        const [gender, setGender] = useState(null);
        const [section, setSection] = useState(null);
        const [selectedPath, setSelectedPath] = useState(null);

        // Funzione per il tasto indietro fisso
        const FixedBackButton = ({ onClick }) => html`
          <button 
            onClick=${onClick} 
            className="fixed top-8 right-8 z-40 w-14 h-14 bg-white rounded-full flex items-center justify-center shadow-lg text-black hover:bg-black hover:text-white transition-all active:scale-95 border border-white"
            aria-label="Torna indietro"
          >
            <i className="fa-solid fa-arrow-left"></i>
          </button>
        `;

        if (!gender) {
          return html`
            <div className="h-full flex flex-col animate-fade-in pb-12">
              <header className="mb-10 text-center">
                <h1 className="text-4xl font-black text-black tracking-tight mb-2 uppercase">BEAUTRÍ</h1>
                <p className="text-slate-400 font-bold uppercase tracking-[0.3em] text-[10px]">Percorsi di salute per i tuoi capelli</p>
              </header>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto w-full mb-8">
                <button onClick=${() => setGender('donna')} className="bg-black rounded-[3rem] p-12 text-left relative overflow-hidden group shadow-2xl transition-all hover:scale-[1.02] active:scale-95 h-64">
                  <div className="absolute top-[-20%] right-[-10%] w-96 h-96 bg-[#EAB308] rounded-full blur-[90px] opacity-40 group-hover:opacity-60 transition-opacity"></div>
                  <div className="relative z-10 flex flex-col h-full">
                    <span className="text-white/40 text-[10px] font-bold uppercase tracking-[0.4em] mb-4 underline decoration-[#EAB308] decoration-2 underline-offset-8">LISTINO</span>
                    <h2 className="text-6xl font-black text-white tracking-tighter mt-auto">DONNA</h2>
                    <div className="w-12 h-1 bg-[#EAB308] mt-6"></div>
                  </div>
                </button>
                <button onClick=${() => setGender('uomo')} className="bg-white rounded-[3rem] p-12 text-left relative overflow-hidden group shadow-sm border border-white transition-all hover:scale-[1.02] active:scale-95 h-64">
                  <div className="absolute top-[-20%] right-[-10%] w-96 h-96 bg-slate-200 rounded-full blur-[90px] opacity-60"></div>
                  <div className="relative z-10 flex flex-col h-full">
                    <span className="text-slate-400 text-[10px] font-bold uppercase tracking-[0.4em] mb-4 underline decoration-black decoration-2 underline-offset-8">LISTINO</span>
                    <h2 className="text-6xl font-black text-black tracking-tighter mt-auto">UOMO</h2>
                    <div className="w-12 h-1 bg-black mt-6"></div>
                  </div>
                </button>
              </div>

              <div className="max-w-4xl mx-auto w-full px-0">
                <button 
                  onClick=${() => { setGender('percorsi'); setSection(null); }}
                  className="w-full bg-[#EAB308] rounded-[3rem] p-12 md:p-16 text-center relative overflow-hidden group shadow-xl transition-all hover:scale-[1.01] active:scale-95"
                >
                  <div className="absolute top-[-50%] left-[-10%] w-[600px] h-[600px] bg-white/20 rounded-full blur-[100px] group-hover:bg-white/30 transition-all"></div>
                  <div className="relative z-10 flex flex-col md:flex-row items-center justify-center gap-8">
                    <h2 className="text-4xl md:text-6xl font-black text-black tracking-tighter uppercase">I NOSTRI PERCORSI</h2>
                    <div className="w-20 h-20 bg-black rounded-full flex items-center justify-center text-[#EAB308] text-3xl shadow-lg shrink-0">
                      <i className="fa-solid fa-route"></i>
                    </div>
                  </div>
                </button>
              </div>
            </div>
          `;
        }

        // --- SUB-PAGE PER "I NOSTRI PERCORSI" ---
        if (gender === 'percorsi' && !section) {
            return html`
              <div className="h-full relative">
                <${FixedBackButton} onClick=${() => setGender(null)} />
                <div className="animate-fade-in pb-12">
                  <header className="flex items-center justify-center mb-10">
                    <div className="text-center uppercase font-black text-black tracking-widest text-[11px] bg-white px-8 py-3 rounded-full shadow-sm border border-white">
                      <span className="text-[#EAB308]">I NOSTRI PERCORSI</span>
                    </div>
                  </header>

                  <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto w-full">
                    <button onClick=${() => setSection('percorsi-main')} className="bg-black rounded-[3rem] p-12 text-left relative overflow-hidden group shadow-2xl transition-all hover:scale-[1.02] active:scale-95 h-64">
                      <div className="absolute top-[-20%] right-[-10%] w-96 h-96 bg-[#EAB308] rounded-full blur-[90px] opacity-40 group-hover:opacity-60 transition-opacity"></div>
                      <div className="relative z-10 flex flex-col h-full items-center justify-center text-center">
                          <i className="fa-solid fa-route text-4xl text-[#EAB308] mb-6"></i>
                          <h2 className="text-4xl font-black text-white tracking-tighter uppercase">PERCORSI</h2>
                      </div>
                    </button>

                    <button onClick=${() => setSection('percorsi-mantenimento')} className="bg-[#EAB308] rounded-[3rem] p-12 text-left relative overflow-hidden group shadow-xl transition-all hover:scale-[1.02] active:scale-95 h-64">
                      <div className="absolute top-[-20%] right-[-10%] w-96 h-96 bg-white rounded-full blur-[90px] opacity-30"></div>
                      <div className="relative z-10 flex flex-col h-full items-center justify-center text-center">
                          <i className="fa-solid fa-shield-heart text-4xl text-black mb-6"></i>
                          <h2 className="text-4xl font-black text-black tracking-tighter uppercase">PERCORSI DI MANTENIMENTO</h2>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            `;
        }

        // --- LISTA DEI PERCORSI (MAIN O MANTENIMENTO) ---
        if ((section === 'percorsi-main' || section === 'percorsi-mantenimento') && !selectedPath) {
          const pathsToShow = section === 'percorsi-main' ? MOCK_PATHS : MOCK_MAINTENANCE_PATHS;
          const currentTitle = section === 'percorsi-main' ? 'PERCORSI' : 'PERCORSI DI MANTENIMENTO';
          return html`
            <div className="h-full relative">
              <${FixedBackButton} onClick=${() => setSection(null)} />
              <div className="animate-fade-in pb-12">
                <header className="flex items-center justify-center mb-10">
                  <div className="text-center uppercase font-black text-black tracking-widest text-[11px] bg-white px-8 py-3 rounded-full shadow-sm border border-white">
                    <span className="text-[#EAB308]">${currentTitle}</span>
                  </div>
                </header>

                <div className="grid grid-cols-2 md:grid-cols-3 gap-6 max-w-5xl mx-auto w-full">
                  ${pathsToShow.map(p => html`
                    <button key=${p.id} onClick=${() => setSelectedPath(p)} className="bg-white p-8 md:p-12 rounded-[3rem] shadow-sm hover:border-[#EAB308]/30 transition-all group flex flex-col items-center justify-center min-h-[220px] relative overflow-hidden text-center">
                      <div className="absolute top-0 right-0 w-24 h-24 bg-slate-50 rounded-bl-full -mr-12 -mt-12 group-hover:bg-[#EAB308]/10 transition-colors"></div>
                      <div className="text-xl md:text-2xl font-black text-black tracking-tight uppercase leading-tight group-hover:scale-105 transition-transform px-4">
                        ${p.name}
                      </div>
                      <div className="w-12 h-1 bg-[#EAB308] rounded-full mt-6"></div>
                    </button>
                  `)}
                </div>
              </div>
            </div>
          `;
        }

        // --- DETTAGLIO PERCORSO ---
        if (selectedPath) {
          const toolsList = selectedPath.tools.split(',').map(t => t.trim()).filter(Boolean);
          const isLaserPath = selectedPath.name === 'Laser';
          
          return html`
            <div className="h-full relative">
              <${FixedBackButton} onClick=${() => setSelectedPath(null)} />
              <div className="animate-zoom-in max-w-4xl mx-auto pb-12">
                <header className="flex items-center justify-center mb-10">
                  <h2 className="text-sm font-black text-black uppercase tracking-widest bg-white px-8 py-3 rounded-full shadow-sm">
                    DETTAGLIO PERCORSO
                  </h2>
                </header>

                <div className="bg-white rounded-[4rem] shadow-xl overflow-hidden border border-white relative">
                  <div className="bg-black p-12 text-center relative overflow-hidden">
                    <div className="absolute top-[-50%] right-[-10%] w-96 h-96 bg-[#EAB308] rounded-full blur-[100px] opacity-20"></div>
                    <h1 className="text-3xl md:text-5xl font-black text-white tracking-tighter uppercase relative z-10 leading-tight">${selectedPath.name}</h1>
                    <div className="w-16 h-1 bg-[#EAB308] mx-auto mt-6 relative z-10"></div>
                  </div>

                  <div className="p-10 md:p-16 space-y-12">
                    <section>
                      <div className="flex items-center gap-4 mb-4">
                        <div className="w-10 h-10 bg-slate-50 text-[#EAB308] rounded-full flex items-center justify-center text-sm shadow-inner">
                          <i className="fa-solid fa-quote-left"></i>
                        </div>
                        <h3 className="text-xs font-black text-slate-400 uppercase tracking-widest">Descrizione Percorso</h3>
                      </div>
                      <p className="text-slate-600 font-medium leading-relaxed text-lg italic">"${selectedPath.description}"</p>
                    </section>

                    <div className=${`grid grid-cols-1 ${isLaserPath ? '' : 'md:grid-cols-2'} gap-12 border-t border-slate-50 pt-12`}>
                      ${!isLaserPath && html`
                      <section>
                        <div className="flex items-center gap-4 mb-4">
                          <div className="w-10 h-10 bg-slate-50 text-[#EAB308] rounded-full flex items-center justify-center text-sm shadow-inner">
                            <i className="fa-solid fa-calendar-check"></i>
                          </div>
                          <h3 className="text-xs font-black text-slate-400 uppercase tracking-widest">Numero di Sedute</h3>
                        </div>
                        <p className="text-2xl font-black text-black uppercase tracking-tighter">${selectedPath.sessions}</p>
                      </section>
                      `}

                      <section>
                        <div className="flex items-center gap-4 mb-4">
                          <div className="w-10 h-10 bg-slate-50 text-[#EAB308] rounded-full flex items-center justify-center text-sm shadow-inner">
                            <i className="fa-solid fa-screwdriver-wrench"></i>
                          </div>
                          <h3 className="text-xs font-black text-slate-400 uppercase tracking-widest">Strumenti di Supporto</h3>
                        </div>
                        <ul className="space-y-2">
                          ${toolsList.map(tool => html`
                            <li key=${tool} className="flex items-center gap-3 text-lg font-bold text-black uppercase tracking-tight">
                              <div className="w-1.5 h-1.5 rounded-full bg-[#EAB308]"></div>
                              ${tool}
                            </li>
                          `)}
                        </ul>
                      </section>
                    </div>

                    ${isLaserPath ? html`
                      <section className="bg-white rounded-[3rem] p-4 md:p-8 border border-slate-100 shadow-sm overflow-x-auto">
                        <div className="flex items-center gap-3 mb-8 px-4">
                          <i className="fa-solid fa-table-list text-[#EAB308]"></i>
                          <h3 className="text-xs font-black text-slate-400 uppercase tracking-widest">Listino laser</h3>
                        </div>
                        <div className="space-y-6 min-w-[600px] px-2">
                          ${LASER_TABLE_DATA.map((row, idx) => html`
                            <div key=${idx} className="flex items-center justify-between border-b border-slate-50 pb-4 last:border-0">
                              <div className="w-1/3">
                                <p className="text-[13px] font-black text-slate-800 uppercase tracking-tight leading-tight">${row.name}</p>
                              </div>
                              <div className="w-1/4 flex items-center gap-2 text-slate-400">
                                <span className="text-xs font-bold whitespace-nowrap">${row.sessions} sedute x </span>
                                <i className="fa-regular fa-clock text-[10px] text-[#EAB308]"></i>
                                <span className="text-xs font-bold">${row.duration}</span>
                              </div>
                              <div className="flex gap-2">
                                <div className="bg-slate-50 px-3 py-1.5 rounded-full flex items-center gap-1.5 border border-slate-100">
                                  <span className="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Uomo</span>
                                  <span className="bg-[#EAB308] text-white text-[11px] font-black px-2 py-0.5 rounded-full">€${row.prices.uomo}</span>
                                </div>
                                <div className="bg-slate-50 px-3 py-1.5 rounded-full flex items-center gap-1.5 border border-slate-100">
                                  <span className="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Donna</span>
                                  <span className="bg-[#EAB308] text-white text-[11px] font-black px-2 py-0.5 rounded-full">€${row.prices.donna}</span>
                                </div>
                                <div className="bg-slate-50 px-3 py-1.5 rounded-full flex items-center gap-1.5 border border-slate-100">
                                  <span className="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">Donna+</span>
                                  <span className="bg-[#EAB308] text-white text-[11px] font-black px-2 py-0.5 rounded-full">€${row.prices.donnaPlus}</span>
                                </div>
                              </div>
                            </div>
                          `)}
                        </div>
                      </section>
                    ` : html`
                      <section className="bg-slate-50 rounded-[3rem] p-10 flex flex-col items-center justify-center gap-4 border border-slate-100 shadow-inner">
                        <div className="flex flex-col items-center text-center">
                          <div className="w-14 h-14 bg-white text-[#EAB308] rounded-2xl flex items-center justify-center text-xl shadow-sm mb-4">
                            <i className="fa-solid fa-coins"></i>
                          </div>
                          <h3 className="text-[12px] font-black text-black uppercase tracking-[0.2em] mb-1">Investimento a seduta</h3>
                          <p className="text-[10px] font-black text-[#EAB308] uppercase tracking-widest mb-6 px-4 py-1.5 bg-black rounded-full inline-block">
                            Prezzo riservato solo a chi effettua il percorso
                          </p>
                        </div>
                        <div className="text-3xl md:text-5xl font-black text-black tracking-tighter text-center whitespace-pre-line leading-tight">
                          ${selectedPath.price}
                        </div>
                      </section>
                    `}
                  </div>
                </div>
              </div>
            </div>
          `;
        }

        if (!section) {
          const currentLabel = gender === 'donna' ? 'LISTINO DONNA' : gender === 'uomo' ? 'LISTINO UOMO' : 'I NOSTRI PERCORSI';
          return html`
            <div className="h-full relative">
              <${FixedBackButton} onClick=${() => setGender(null)} />
              <div className="animate-fade-in">
                <header className="flex items-center justify-center mb-10">
                  <div className="text-center uppercase font-black text-black tracking-widest text-[11px] bg-white px-8 py-3 rounded-full shadow-sm border border-white">
                    <span className="text-[#EAB308]">${currentLabel}</span>
                  </div>
                </header>
                <div className="grid grid-cols-2 lg:grid-cols-4 gap-6">
                  ${SECTIONS.filter(s => {
                      const isPercorso = s.id.startsWith('percorsi');
                      if (isPercorso) return false;
                      // Se è selezionato 'uomo', nascondi colorazioni e schiariture
                      if (gender === 'uomo' && (s.id === 'colorazioni' || s.id === 'schiariture')) return false;
                      return true;
                  }).map(s => html`
                    <button key=${s.id} onClick=${() => setSection(s.id)} className="bg-white p-8 rounded-[3rem] shadow-sm hover:border-[#EAB308]/30 transition-all group text-center flex flex-col items-center justify-center min-h-[220px]">
                      <div className="w-14 h-14 bg-slate-50 text-[#EAB308] rounded-2xl flex items-center justify-center text-xl mb-4 group-hover:bg-black group-hover:scale-110 transition-all">
                        <i className=${`fa-solid ${s.icon}`}></i>
                      </div>
                      <h3 className="text-[11px] font-black text-black tracking-[0.1em] uppercase leading-tight">${s.label}</h3>
                    </button>
                  `)}
                </div>
              </div>
            </div>
          `;
        }

        // --- VISIONE SPECIFICA ---
        if (section === 'visione') {
          return html`
            <div className="h-full relative">
              <${FixedBackButton} onClick=${() => setSection(null)} />
              <div className="animate-zoom-in max-w-5xl mx-auto pb-12">
                <header className="flex items-center justify-center mb-10">
                  <h2 className="text-sm font-black text-black uppercase tracking-widest bg-white px-8 py-3 rounded-full shadow-sm border border-white">
                    <span className="text-[#EAB308]">LA NOSTRA VISIONE</span>
                  </h2>
                </header>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-0 bg-white rounded-[4rem] shadow-xl overflow-hidden border border-white">
                  <div className="p-12 md:p-16 flex flex-col justify-center text-left">
                    <div className="mb-10">
                      <h1 className="text-4xl md:text-5xl font-black text-black tracking-tighter uppercase leading-tight">La nostra visione</h1>
                      <div className="w-16 h-1 bg-[#EAB308] mt-6"></div>
                    </div>
                    
                    <div className="space-y-6 text-slate-700 leading-relaxed text-lg">
                      <p>
                        <strong className="text-black">Un capello bello nasce da una cute sana.</strong><br/>
                        E una cute sana nasce dall’<strong className="text-black">ascolto della persona.</strong>
                      </p>
                      <p>
                        In Beautrì Parrucchieri mettiamo <strong className="text-black">te al centro</strong> di ogni percorso.
                      </p>
                      <p className="italic text-xl font-medium border-l-4 border-[#EAB308] pl-6 py-2 my-8">
                        Il nostro slogan, <br/>
                        <strong className="text-black">“Capelli sani nascono da persone ascoltate”</strong>, <br/>
                        racconta il nostro modo di lavorare ogni giorno.
                      </p>
                      <p>
                        Uniamo <strong className="text-black">cronobiologia</strong>, prodotti personalizzati e <strong className="text-black">tecnologie innovative</strong> per creare bellezza partendo dalla salute dei tuoi capelli.
                      </p>
                      <p>
                        Ogni stagione porta cambiamenti e nuove esigenze: per questo il nostro approccio si adatta a ogni persona e a ogni servizio, senza lasciare nulla al caso.
                      </p>
                      <p>
                        I nostri non sono semplici servizi, ma <strong className="text-black">esperienze autentiche</strong>, dove <strong className="text-black">salute e bellezza</strong> si incontrano per creare un benessere profondo e duraturo.
                      </p>
                    </div>
                  </div>
                  <div className="relative min-h-[400px] md:h-auto overflow-hidden bg-white">
                    <img 
                      src="https://drive.google.com/uc?id=1BryhB96zxdWKyDxVUBSPZL1H2f9KNj0Y" 
                      alt="Beautrì Visione" 
                      className="absolute inset-0 w-full h-full object-cover"
                      onError=${(e) => { 
                        if (!e.target.dataset.triedThumbnail) {
                          e.target.dataset.triedThumbnail = "true";
                          e.target.src = "https://drive.google.com/thumbnail?id=1BryhB96zxdWKyDxVUBSPZL1H2f9KNj0Y&sz=w1600";
                        } else {
                          e.target.src = 'https://images.unsplash.com/photo-1560066984-138dadb4c035?q=80&w=2074&auto=format&fit=crop';
                        }
                      }}
                    />
                  </div>
                </div>
              </div>
            </div>
          `;
        }

        // --- MIGLIORI PROPOSTE SPECIFICA ---
        if (section === 'migliori-proposte') {
          const currentProposals = gender === 'uomo' ? BEST_PROPOSALS_UOMO : BEST_PROPOSALS_DONNA;
          const introText = gender === 'uomo' 
            ? "Le nostre migliori proposte che puoi abbinare ad ogni servizio in base alle tue esigenze. Questa sezione è il “Fiore all’occhiello” del nostro Menù che ti da la possibilità di ottenere ancor più un miglior risultato del servizio che vuoi effettuare. É stato creato per dare la possibilità di proteggere, intensificare, e fortificare i tuoi capelli con un risultato immediato e già visibile al momento del servizio."
            : "Le nostre migliori proposte che puoi abbinare ad ogni servizio in base alle tue esigenze. Create per trasformare e dare vita nuova allo stelo già visibile al momento del servizio.";

          return html`
            <div className="h-full relative">
              <${FixedBackButton} onClick=${() => setSection(null)} />
              <div className="animate-zoom-in max-w-6xl mx-auto pb-12">
                <header className="flex items-center justify-center mb-10">
                  <h2 className="text-sm font-black text-black uppercase tracking-widest bg-white px-8 py-3 rounded-full shadow-sm border border-white">
                    <span className="text-[#EAB308]">LE NOSTRE MIGLIORI PROPOSTE</span>
                  </h2>
                </header>

                <div className="bg-black rounded-[4rem] p-12 md:p-16 mb-12 shadow-2xl relative overflow-hidden text-center">
                  <div className="absolute top-[-20%] right-[-10%] w-96 h-96 bg-[#EAB308] rounded-full blur-[100px] opacity-20"></div>
                  <h1 className="text-3xl md:text-5xl font-black text-white tracking-tighter uppercase mb-6 relative z-10">
                    MIGLIORI PROPOSTE
                  </h1>
                  <div className="max-w-3xl mx-auto text-slate-400 text-sm md:text-base leading-relaxed font-medium uppercase tracking-wider">
                    ${introText}
                  </div>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                  ${currentProposals.map(p => html`
                    <div key=${p.id} className="bg-white rounded-[3rem] p-10 flex flex-col shadow-sm border border-white hover:border-[#EAB308]/30 transition-all group">
                      <div className="w-14 h-14 bg-slate-50 text-[#EAB308] rounded-2xl flex items-center justify-center text-xl mb-6 group-hover:bg-black group-hover:scale-110 transition-all shadow-inner">
                        <i className=${`fa-solid ${p.icon}`}></i>
                      </div>
                      <h3 className="text-xl font-black text-black tracking-tight uppercase mb-2 leading-tight">${p.name}</h3>
                      <div className="text-[#EAB308] font-black text-lg mb-6">${p.price}</div>
                      <p className="text-slate-600 text-sm font-medium leading-relaxed mb-4">${p.description}</p>
                    </div>
                  `)}
                </div>
              </div>
            </div>
          `;
        }

        return html`
          <div className="h-full relative">
            <${FixedBackButton} onClick=${() => setSection(null)} />
            <div className="animate-zoom-in">
              <header className="flex items-center justify-center mb-10">
                <h2 className="text-sm font-black text-black uppercase tracking-widest bg-white px-8 py-3 rounded-full shadow-sm">
                  <span className="text-[#EAB308]">${SECTIONS.find(s => s.id === section)?.label}</span>
                </h2>
              </header>
              <div className="bg-white rounded-[4rem] p-20 flex flex-col items-center justify-center text-center shadow-sm border border-white">
                <div className="w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-8">
                  <i className="fa-solid fa-ellipsis text-[#EAB308] text-2xl"></i>
                </div>
                <h3 className="text-3xl font-black text-black uppercase tracking-tight mb-4 italic">In fase di creazione</h3>
                <p className="text-slate-400 max-w-xs text-sm font-medium leading-relaxed uppercase tracking-widest text-[10px]">
                  Stiamo configurando l'eccellenza per la sezione <br/>
                  <span className="text-black font-black">${SECTIONS.find(s => s.id === section)?.label}</span>
                </p>
              </div>
            </div>
          </div>
        `;
      };

      const App = () => {
        const [activeTab, setActiveTab] = useState(Tab.Home);
        const [isOpen, setIsOpen] = useState(false);

        return html`
          <div className="flex h-screen overflow-hidden relative">
            <button onClick=${() => setIsOpen(true)} className="fixed top-8 left-8 z-40 w-14 h-14 bg-white rounded-full shadow-lg flex items-center justify-center text-black hover:scale-110 transition-all border border-white active:scale-95">
              <i className="fa-solid fa-bars-staggered text-xl"></i>
            </button>

            ${isOpen && html`<div className="fixed inset-0 bg-black/20 backdrop-blur-sm z-40 transition-opacity" onClick=${() => setIsOpen(false)} />`}
            
            <div className=${`fixed top-0 left-0 h-full z-50 transition-transform duration-500 ease-in-out ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}>
              <${Sidebar} activeTab=${activeTab} setActiveTab=${setActiveTab} onClose=${() => setIsOpen(false)} />
            </div>

            <main className="flex-1 overflow-y-auto custom-scrollbar p-6">
              <div className="max-w-[1200px] mx-auto h-full pt-20">
                ${activeTab === Tab.Home ? html`<${DigitalMenu} />` : html`
                  <div className="h-full flex flex-col items-center justify-center animate-zoom-in">
                    <div className="bg-white rounded-[3rem] p-12 shadow-sm w-full max-w-2xl text-center">
                      <i className="fa-solid fa-note-sticky text-4xl text-[#EAB308] mb-6"></i>
                      <h2 className="text-2xl font-black uppercase tracking-widest mb-4">NOTE</h2>
                      <p className="text-slate-400 text-sm mb-8 uppercase tracking-widest font-bold">Usa la barra laterale per gestire le tue note</p>
                    </div>
                  </div>
                `}
              </div>
            </main>
          </div>
        `;
      };

      const rootElement = document.getElementById('root');
      if (rootElement) {
        const root = createRoot(rootElement);
        root.render(React.createElement(App));
      }
    </script>
</body>
</html>
